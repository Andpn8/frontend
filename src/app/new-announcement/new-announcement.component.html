<div class="new-announcement">
  <app-navbar  
    [helpMessage]="'<strong>Per inviare un annuncio,</strong> seleziona prima il <strong>tipo di contratto</strong> (Vendita o Affitto) e compila tutti i <strong>campi obbligatori</strong>.<br><br> Assicurati di inserire il <strong>titolo dell\'annuncio</strong>, il <strong>prezzo</strong>, il <strong>comune</strong> e l\'<strong>indirizzo completo</strong>.<br><br> Quando hai completato il form, puoi <strong>procedere</strong> o <strong>tornare indietro</strong> utilizzando i pulsanti in basso.'" 
    [centerMessage]="'<strong>NUOVO ANNUNCIO</strong>'">
  </app-navbar>

  <div class="content">
    <div class="form-section">
      <h2>Informazioni Annuncio</h2>

      <div class="contract-type">
        <label>Tipo di Contratto:</label>
        <button 
          [class.active]="announcementType === 'vendita'" 
          (click)="setAnnouncementType('vendita')">
          Vendita
        </button>
        <button 
          [class.active]="announcementType === 'affitto'" 
          (click)="setAnnouncementType('affitto')">
          Affitto
        </button>
      </div>

      <form [formGroup]="form" (ngSubmit)="proceed()">
        <div class="form-group">
          <label>Immobile:</label>
          <select formControlName="immobile">
            <option value="" disabled selected></option>
            <option>Appartamento</option>
            <option>Villa</option>
            <option>Monolocale</option>
            <option>Attico</option>
          </select>
          <small class="required-field">CAMPO OBBLIGATORIO</small>
        </div>

        <div class="form-group">
          <label>Titolo Annuncio:</label>
          <input type="text" placeholder="Inserisci titolo..." formControlName="titolo" />
          <small class="required-field">CAMPO OBBLIGATORIO</small>
        </div>

        <div class="form-group price">
          <label>Prezzo:</label>
          <div class="price-input">
            <input type="number" min="0" oninput="validity.valid||(value='');" placeholder="Es. 50.000" formControlName="prezzo" />
            <span>€</span>
          </div>
          <small class="required-field">CAMPO OBBLIGATORIO</small>
        </div>

       <div class="form-group">
  <label>Città:</label>
  <input 
    type="text" 
    placeholder="Inserisci la città..." 
    id="autocomplete-citta"
    formControlName="citta" />
  <small class="required-field">CAMPO OBBLIGATORIO</small>
</div>

       <div class="form-group address-group">
  <label>Indirizzo:</label>
  <div class="address-fields">
    <input 
      type="text" 
      id="autocomplete-indirizzo"
      placeholder="Inserisci indirizzo e n° civico..." 
      formControlName="indirizzo" />
      
    <input 
      type="text" 
      class="number-input" 
      formControlName="numero"
        readonly />
      
    <label>CAP:</label> 
    <input 
      type="text" 
      class="cap-input" 
      formControlName="cap"
        readonly />
  </div>
  <small class="required-field">CAMPI OBBLIGATORI</small>
</div>

        <div class="form-buttons">
          <button type="button" class="back">INDIETRO</button>
          <button 
            type="submit" 
            class="next" 
            [ngClass]="{ 'active': form.valid, 'valid-button': form.valid }">
            PROSEGUI
          </button>
        </div>
      </form>
    </div>
    <app-announcement-summary [activeStep]="1"></app-announcement-summary>
  </div>
</div>
