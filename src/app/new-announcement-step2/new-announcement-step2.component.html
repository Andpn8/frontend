<app-navbar
  [helpMessage]="'helpMessage'"
  [centerMessage]="'Nuovo Annuncio'">
</app-navbar>

<main class="step2-container">
  <div class="layout-wrapper">
    <form [formGroup]="step2Form" (ngSubmit)="onSubmit()" class="form-wrapper">
      <div class="top-section">
        <div class="left-column">
          <h2>Dettagli Immobile</h2>

          <div class="form-group-horizontal">
            <label for="superficie">Superficie:</label>
            <div class="input-column">
              <input
                type="number"
                min="0"
                id="superficie"
                formControlName="superficie"
                placeholder="Es. 65 m²"
                [class.invalid]="isInvalid('superficie')"
              />
              <span class="always-error" *ngIf="isInvalid('superficie')">CAMPO OBBLIGATORIO</span>
            </div>
          </div>

          <div class="form-group-horizontal">
            <label for="piano">Piano:</label>
            <div class="input-column">
              <input
                type="number"
                min="0"
                id="piano"
                formControlName="piano"
                placeholder="Es. 4°"
                [class.invalid]="isInvalid('piano')"
              />
              <span class="always-error" *ngIf="isInvalid('piano')">CAMPO OBBLIGATORIO</span>
            </div>
          </div>

          <div class="form-group-horizontal">
            <label for="classeEnergetica">Classe Energetica:</label>
            <div class="input-column">
              <select id="classeEnergetica" formControlName="classeEnergetica">
                <option value="">Seleziona</option>
                <option *ngFor="let classe of classiEnergetiche" [value]="classe">{{ classe }}</option>
              </select>
              <span class="always-error" *ngIf="isInvalid('classeEnergetica')">CAMPO OBBLIGATORIO</span>
            </div>
          </div>
        </div>

        <div class="right-column">
          <h2>Dettagli Stanze</h2>
          <div class="form-group-horizontal">
            <label for="locali">Locali:</label>
            <div class="input-column">
              <input
                type="number"
                min="0"
                id="locali"
                formControlName="locali"
                placeholder="Numero locali"
                [class.invalid]="isInvalid('locali')"
              />
              <span class="always-error" *ngIf="isInvalid('locali')">CAMPO OBBLIGATORIO</span>
            </div>
          </div>

          <div class="form-group-horizontal">
            <label for="bagni">Bagni:</label>
            <div class="input-column">
              <input
                type="number"
                min="0"
                id="bagni"
                formControlName="bagni"
                placeholder="Numero bagni"
                [class.invalid]="isInvalid('bagni')"
              />
              <span class="always-error" *ngIf="isInvalid('bagni')">CAMPO OBBLIGATORIO</span>
            </div>
          </div>
        </div>
      </div>

      <div class="bottom-section">
        <h2>Ulteriori Servizi</h2>
        <div class="services-grid">
          <div class="service-column">
            <div class="service" *ngFor="let servizio of servizi.slice(0, 3)">
              <img [src]="servizio.icon" [alt]="servizio.label" />
              <label>
                {{ servizio.label }}
                <input type="checkbox" [formControlName]="servizio.control" />
              </label>
            </div>
          </div>
          <div class="service-column">
            <div class="service" *ngFor="let servizio of servizi.slice(3, 6)">
              <img [src]="servizio.icon" [alt]="servizio.label" />
              <label>
                {{ servizio.label }}
                <input type="checkbox" [formControlName]="servizio.control" />
              </label>
            </div>
          </div>
        </div>

        <div class="form-buttons">
          <button type="button" class="indietro" (click)="goBack()">INDIETRO</button>
          <button
            type="submit"
            class="prosegui"
            [ngClass]="{ 'active': step2Form.valid }"
          >
            PROSEGUI
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="summary-wrapper">
    <app-announcement-summary [activeStep]="2"></app-announcement-summary>
  </div>
</main>
